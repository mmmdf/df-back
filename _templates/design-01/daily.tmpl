<script language="javascript">
request = {
  service: '0',
  airport: '0',
  consolidator: '0',
  date: ''
};

function refresh()
{
  $('.list_container').html($('.loader_container').html());

  $.ajax({
    url: 'ajax_reports.php',
    method: 'post',
    data: request
  }).done(function(data){
    $('.list_container').html('');

    var listLeaving = $($('.list_item_leaving_template').html());
    var listReturn = $($('.list_item_return_template').html());

    for (var reportIndex in data) {
      var listEntry = $($('.list_item_template').html());

      for (var reportProperty in data[reportIndex]) {
        listEntry.find('.data_' + reportProperty).each(function(index, element) {
          $(element).html(data[reportIndex][reportProperty]);
        });

        listEntry.find('span[data-original-title="data_' + reportProperty + '"]').each(function(index, element) {
          $(element).attr('data-original-title', data[reportIndex][reportProperty]);

          $(element).tooltip()
        });
      }

      switch (data[reportIndex]['payment']) {
        case 'OK': listEntry.addClass('bg-white'); break;
        case 'Paid': listEntry.addClass('bg-white'); break;
        case 'Pending': listEntry.addClass('alert-warning text-dark'); break;
        case 'Cancelled': listEntry.addClass('alert-warning text-dark'); break;
        default: listEntry.addClass('bg-white');
      }

      listEntry.find('.data_color_selector_leavingDate').each(function(index, element) {
        switch (data[reportIndex]['payment']) {
          case 'OK': $(element).addClass('text-success'); break;
          case 'Paid': $(element).addClass('text-success'); break;
		  case 'Ammended': $(element).addClass('text-warning'); break;
          case 'Pending': $(element).addClass('text-warning'); break;
          case 'Cancelled': $(element).addClass(''); break;
          default: $(element).addClass('bg-white');
        }
      });

      listEntry.find('.data_color_selector_payment').each(function(index, element) {
        switch (data[reportIndex]['payment']) {
          case 'OK': $(element).addClass('badge-success'); break;
          case 'Paid': $(element).addClass('badge-success'); break;
		  case 'Ammended': $(element).addClass('badge-success'); break;
          case 'Pending': $(element).addClass('badge-warning'); break;
          case 'Cancelled': $(element).addClass('badge-danger'); break;
          default: $(element).addClass('bg-white');
        }
      });

      if (data[reportIndex]['notes'] === '') {
        listEntry.find('.data_visibility_selector_notes').hide();
      }

      switch (request['date']) {
        case data[reportIndex]['leavingDate'].substr(0, 10):
          var inserted = false;

          listLeaving.children().each(function(index, element) {
            if ($(element).attr('data-toggle') == 'modal') {
              $(element).find('.data__a_date').each(function(index1, element1) {
                if ($(element1).attr('data-original-title') > data[reportIndex]['_leavingDate_additional']) {
                  $(element).before(listEntry);
                  inserted = true;

                  return false;
                }
              });
            };
          });

          if (!inserted) {
            listLeaving.append(listEntry);
          }
        break;
        case data[reportIndex]['returnDate'].substr(0, 10): 
          var inserted = false;

          listReturn.children().each(function(index, element) {
            if ($(element).attr('data-toggle') == 'modal') {
              $(element).find('.data__a_date').each(function(index1, element1) {
                if ($(element1).attr('data-original-title') > data[reportIndex]['_returnDate_additional']) {
                  $(element).before(listEntry);
                  inserted = true;

                  return false;
                }
              });
            };
          });

          if (!inserted) {
            listReturn.append(listEntry);
          }
        break;
        default: console.log(data[reportIndex]);
      }
    }

    $('.list_container').append(listLeaving);
    $('.list_container').append(listReturn);

    listLeaving.find('.data_count').html(listLeaving.children().length - 1);
    listReturn.find('.data_count').html(listReturn.children().length - 1);
  });
}

$(document).ready(function() {
  $('.property_refresh_check').on('change', function(event) {
    var classList = $(event.currentTarget).attr('class').split(/\s+/);
    $.each(classList, function(index, item) {
      if (item.indexOf('property_name_') === 0) {
        request[item.substr(14)] = $(event.currentTarget).attr('value');
      }
    });

    refresh();
  });

  $('.property_refresh_select').on('click', function(event) {
    var name = '';
    var value = '0';

    var classList = $(event.currentTarget).attr('class').split(/\s+/);
    $.each(classList, function(index, item) {
      if (item.indexOf('property_name_') === 0) {
        name = item.substr(14);
      }
      if (item.indexOf('property_value_') === 0) {
        value = item.substr(15);
      }
    });

    if (name != '') {
      request[name] = value;

      refresh();
    }
  });
 
  $('#editReportModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget) // Button that triggered the modal
    var recipient = button.data('report-id') // Extract info from data-* attributes
    // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
    // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
    var modal = $(this)
    modal.find('.modal-title').text('New message to ' + recipient)
  });

  $('#datetimepickerHidden').datetimepicker({
    defaultDate: new Date(),
    format: 'YYYY-MM-DD'
  });

  request['date'] = $('#datetimepickerHidden').val();

  var myMoment = moment($('#datetimepickerHidden').val());
  $('#date_date').html(myMoment.format('D MMM'));

  $('#datetimepickerHidden').on('change.datetimepicker', function(event) {
    request['date'] = $('#datetimepickerHidden').val();

    var myMoment = moment($('#datetimepickerHidden').val());
    $('#date_date').html(myMoment.format('D MMM'));

    refresh();
  });

  $('#date_back').on('click', function(event) {
    var myMoment = moment($('#datetimepickerHidden').val());
    myMoment.subtract(1, 'day');
    $('#datetimepickerHidden').val(myMoment.format('YYYY-MM-DD'))

    $('#date_date').html(myMoment.format('D MMM'));

    request['date'] = $('#datetimepickerHidden').val();

    refresh();
  });

  $('#date_forw').on('click', function(event) {
    var myMoment = moment($('#datetimepickerHidden').val());
    myMoment.add(1, 'day');
    $('#datetimepickerHidden').val(myMoment.format('YYYY-MM-DD'))

    $('#date_date').html(myMoment.format('D MMM'));

    request['date'] = $('#datetimepickerHidden').val();

    refresh();
  });

  refresh();
});
</script>

<div class="container-fluid">
    <div class="row py-3">
        <div class="col-xs-6 col-sm-4 pb-2 pb-sm-0 d-flex justify-content-md-start">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-secondary active">
                <input type="radio" name="options" id="option1" autocomplete="off" value="0" class="property_refresh_check property_name_service" checked> ALL
              </label>
{foreach from=$services item=_i key=_k}
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option2" autocomplete="off" value="{$_i.id}" class="property_refresh_check property_name_service" /> {$_i.acronym}
              </label>
{/foreach}
            </div>
        </div>

        <div class="col-xs-6 col-sm-4 pb-2 pb-sm-0 d-flex justify-content-md-center">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-secondary active">
                <input type="radio" name="options" id="option1" autocomplete="off" value="0" class="property_refresh_check property_name_airport" checked> ALL
              </label>
{foreach from=$airports item=_i key=_k}
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option2" autocomplete="off" value="{$_i.id}" class="property_refresh_check property_name_airport"> {$_i.acronym}
              </label>
{/foreach}					  

              <label class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown">
                <input type="radio" name="options" id="option3" autocomplete="off" class="px-5"> &nbsp;
              </label>
                <div class="dropdown-menu">
                  <a href="#" class="dropdown-item property_refresh_select property_name_consolidator property_value_0">All</a>
                  <div class="dropdown-divider"></div>
{foreach from=$consolidators item=_i key=_k}
                  <a href="#" class="dropdown-item property_refresh_select property_name_consolidator property_value_{$_i.id}">{$_i.acronym}</a>
{/foreach}
                </div>
            </div>
        </div>

        <div class="col-sm-4 pb-2 pb-sm-0 d-flex justify-content-md-end">
            <input type="hidden" id="datetimepickerHidden" class="datetimepicker-input"  />
            <div class="btn-group btn-group-toggle">
                <button id="date_back" class="btn btn-secondary"><i class="fas fa-step-backward"></i></button>
                <button id="date_date" class="btn btn-secondary active" data-toggle="datetimepicker" data-target="#datetimepickerHidden">Today</i></button>
                <button id="date_forw" class="btn btn-secondary"><i class="fas fa-step-forward"></i></button>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid pb-2 bg-light">
    <div class="row mx-0 py-3 text-muted border-bottom list_container" id="daily-rows">
        <div class="col-md-6 list_container_left">
          <div class="row mx-0 pb-2 text-muted border-bottom">
            <div class="col-md-6">
              403
            </div>
            <div class="col-md-6 d-flex justify-content-md-end">
              <a href="api/print/pdf.slip.php?date=2018-08-27&amp;airport=0&amp;type=" target="_blank" class="btn btn-primary btn-sm pull-right mr-2">Print</a> <a href="api/print/pdf.slip.returns.php?date=2018-08-27&amp;airport=0&amp;type=&amp;in=1" target="_blank" class="btn btn-primary btn-sm">List</a>
            </div>
          </div>
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">L4P-1-1892702</span>
            </div>
            <div class="col-md-2">02:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Kerry Robinson</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning">KR10XNE</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">ZFH1ES</span>
            </div>
            <div class="col-md-2">02:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr Damon Blackburn</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">DP17HZX</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">181983486</span>
            </div>
            <div class="col-md-2">02:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mrs Jo Owen</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">J99OON</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">182000448</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr Scott Copeland</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">YE57WOA</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">CH181983861</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mrs Sarah Price</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">R88SJP</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">L4P-1-2228353</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Helen Caldwell</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">DU02EBM</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">SFP-1-2289852</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Sue Collings</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">MF63XPW</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">75QNR</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr J Oneil</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">DY12KPT</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">L4P-1-238886</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Danny Rhode</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">ML63BVR</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">FN049</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr R Holder</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">FJ67TXX</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
              <div class="col-md-3 mb-1">
                <span class="badge badge-success">L4P-1-2381267</span>
              </div>
              <div class="col-md-2 mb-1">03:30</div>
              <div class="col-md-1 mb-1"></div>
              <div class="col-md-4 mb-1">Barry</div>
              <div class="col-md-2 d-flex justify-content-end mb-1">
                <span class="badge badge-warning p-2">RO09VVB</span>
              </div>
            <div class="col-md-12">
              <div class="alert alert-warning py-1 m-0" role="alert">
                Landing is 13.10
              </div>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">CH181996340</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Barry</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">RO09VVB</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">181991996</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr Ettore Pisano</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">KF17FKO</span>
            </div>
          </div>
          <!-- /item -->
        </div>
        <div class="col-md-6  list_container_right">
          <div class="row mx-0 pb-2 text-muted border-bottom">
            <div class="col-md-6">
              743
            </div>
            <div class="col-md-6 d-flex justify-content-md-end">
              <a href="api/print/pdf.slip.returns.php?date=2018-08-27&amp;airport=0&amp;type=&amp;in=1" target="_blank" class="btn btn-primary btn-sm">List</a>
            </div>
          </div>
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">L4P-1-1892702</span>
            </div>
            <div class="col-md-2">02:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Kerry Robinson</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning">KR10XNE</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">ZFH1ES</span>
            </div>
            <div class="col-md-2">02:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr Damon Blackburn</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">DP17HZX</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">181983486</span>
            </div>
            <div class="col-md-2">02:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mrs Jo Owen</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">J99OON</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
            <div class="col-md-3">
              <span class="badge badge-success">182000448</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr Scott Copeland</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">YE57WOA</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">CH181983861</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mrs Sarah Price</div>
            <div class="col-md-2 d-flex justify-content-end mb-1">
              <span class="badge badge-warning p-2">R88SJP</span>
            </div>
            <div class="col-md-12">
              <div class="alert alert-warning py-1 m-0" role="alert">
                sabir took the car
              </div>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">L4P-1-2228353</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Helen Caldwell</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">DU02EBM</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">SFP-1-2289852</span>
            </div>
            <div class="col-md-2">03:00</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Sue Collings</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">MF63XPW</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">75QNR</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr J Oneil</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">DY12KPT</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">L4P-1-238886</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Danny Rhode</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">ML63BVR</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">FN049</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr R Holder</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">FJ67TXX</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
              <div class="col-md-3 mb-1">
                <span class="badge badge-success">L4P-1-2381267</span>
              </div>
              <div class="col-md-2 mb-1">03:30</div>
              <div class="col-md-1 mb-1"></div>
              <div class="col-md-4 mb-1">Barry</div>
              <div class="col-md-2 d-flex justify-content-end mb-1">
                <span class="badge badge-warning p-2">RO09VVB</span>
              </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">CH181996340</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Barry</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">RO09VVB</span>
            </div>
          </div>
          <!-- /item -->
          <!-- item -->
          <div class="row mx-0 my-2 py-2 bg-white">
            <div class="col-md-3">
              <span class="badge badge-success">181991996</span>
            </div>
            <div class="col-md-2">03:30</div>
            <div class="col-md-1"></div>
            <div class="col-md-4">Mr Ettore Pisano</div>
            <div class="col-md-2 d-flex justify-content-end">
              <span class="badge badge-warning p-2">KF17FKO</span>
            </div>
          </div>
          <!-- /item -->
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="editReportModal" tabindex="-1" role="dialog" aria-labelledby="editReportModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <div class="col-md-8 p-0">
          <h5 class="modal-title"> Christopher Pullen | 07942679346 </h5>
        </div>
        <div class="col-md-4 p-0 d-flex justify-content-end">
          <h5>Ref:  <span class="badge badge-secondary">DDFH750652</span></h5>
        </div>
      </div>

      <div class="modal-body">
        <ul id="edit_Report_Tab" class="nav nav-tabs" role="tablist">
          <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#booking_details" role="tab" aria-controls="booking_details" aria-selected="true">Booking details</a></li>
          <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#amendments" role="tab" aria-controls="amendments" aria-selected="true">Amendments</a></li>
          <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#photos" role="tab" aria-controls="photos" aria-selected="true">Photos</a></li>
          <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#payments" role="tab" aria-controls="payments" aria-selected="true">Payments</a></li>
        </ul>
		<div id="edit_Report_Tab_Content" class="tab-content">
			<div title="Booking details" class="tab-pane am-fade show active" id="booking_details" role="tabpanel" aria-labelledby="booking_details-tab">
				<div class="row pt-2">
					<div class="col-md-3">
						<div class="smallLabel pb-1">Flying from</div>  
						<span class="badge badge-secondary p-2">Heathrow</span>
						<span tooltip="Edit name" class="glyphicon glyphicon-edit  pull-right pointer" aria-hidden="true"></span>
					</div>
					<div class="col-md-6">
						<div class="smallLabel">Leaving on</div>    
						<div class="input-group date pr-2">
							<input type="text" class="form-control" id="datepicker" placeholder="dd/mm/yyyy">
						</div>
					</div>
					<div class="col-md-3">
						<div class="smallLabel text-white">.</div>  
						<input bs-timepicker="" data-time-format="HH:mm" data-time-type="string" name="timeStart" type="text" class="form-control text-center" value="" required="required" pattern="" title="" placeholder="hh:mm">
					</div>
				</div>
				<div class="row">
					<div class="col-md-3">
						<div class="smallLabel pb-1">Type</div>
						<span class=""> 
							<span class="badge badge-info p-2" >Meet &amp; Greet</span>
							<span tooltip="Edit" class="glyphicon glyphicon-edit  pull-right pointer" aria-hidden="true"></span>
						</span>
					</div>
					<div class="col-md-6">
						<div class="smallLabel">Returning on</div>   
						<div class="input-group date pr-2">
							<input type="text" class="form-control" id="datepicker" placeholder="dd/mm/yyyy">
						</div>
					</div>
					<div class="col-md-3">
						<div class="smallLabel text-white">.</div>  
						<input bs-timepicker="" data-time-format="HH:mm" data-time-type="string" type="text" class="form-control text-center" value="" required="required" pattern="" title="" placeholder="hh:mm">
					</div>
				</div>

				<div class="dropdown-divider"></div>

				<div class="row">
				   <div class="col-md-4">
						  <div class="smallLabel">Car Make and Model</div>  
						  <input maxlength="25" type="text" name="carModel" class="form-control" value="" pattern="" title="">
				   </div>
				   <div class="col-md-4">
						  <div class="smallLabel">Car Colour</div>  
						  <input maxlength="12" type="text" name="carColor" class="form-control" value="" pattern="" title="">
				   </div>
				   <div class="col-md-4">
						  <div class="smallLabel">Reg Number</div>  
						  <input maxlength="10" type="text" name="carReg" class="form-control text-center" value="" pattern="" title="">
				   </div>
			   </div>

			   <div class="dropdown-divider"></div>

			   <div class="row">
				   <div class="col-md-4">
						  <div class="smallLabel">Returning Flight Number</div>  
						  <input maxlength="10" type="text" name="flightEnd" class="form-control text-center " auto-complete="" source-root="acFlights1" select-on-click="" autocomplete="off">
				   </div>
				   <div class="col-md-4">
						  <div class="smallLabel">Terminal In</div>  
						  <input bs-typeahead="" bs-options="ter for ter in vm.terminals" data-animation="am-flip-x" data-placement="auto" data-min-length="0" data-limit="7" maxlength="11" type="text" name="terminalEnd" class="form-control text-center" value="" pattern="" title="" autocomplete="off">
				   </div>
				   <div class="col-md-4">
						  <div class="smallLabel">Terminal Out</div> 
						  <input bs-typeahead="" bs-options="ter for ter in vm.terminals" data-animation="am-flip-x" data-placement="auto" data-min-length="0" data-limit="7" maxlength="11" type="text" name="terminalStart" class="form-control text-center" value="" pattern="" title="" autocomplete="off">
				   </div>
			   </div>

			  <div class="dropdown-divider"></div>

			   <div class="row">
				   <div class="col-md-4">
					   <div class="row">
						  <div class="col-md-6">
							<div class="smallLabel">Amount:</div>
							<div><span class="badge badge-secondary text-lg  p-1">£ 54.80</span></div>
							<div><span class="badge badge-secondary text-lg  p-1">£ 68.50</span></div>
							<div><span class="badge badge-info  p-1">save 20</span></div>
						  </div>
						  <div class="col-md-6">
							<div class="smallLabel">Via:</div>
							<span class="badge badge-warning">DriveFly</span>
							<span class="badge badge-info p-1">D</span>
						  </div>
					   </div>
					   <div class="row">
						<div class="col-md-12">
						  <button type="button" class="cancel btn btn-danger mx-0 mt-3">Cancel booking</button>               
						</div>
					   </div>     
				   </div>

				   <div class="col-md-8">
						  <textarea maxlength="255" rows="5" name="comments" class="form-control"></textarea>
						  <div class="smallLabel ">Admin: super admin</div>
				   </div>
			   </div>

			   <div class="dropdown-divider"></div>

			   <div class="row">
				  <div class="col-md-6">
					<span>Status: <span class="badge badge-success  p-2">OK</span></span>
				  </div>
				  <div class="col-md-6 text-right">
					<small>Created:  05 Sep 10:46</small> | <small>Updated: 05 Sep 10:46</small>
				  </div>
			   </div>        
			</div>
			
            <div title="Amendments" class="tab-pane am-fade" id="amendments" role="tabpanel" aria-labelledby="amendments-tab">
            	<table class="table table-condensed">
            		<tbody>
            			<tr class="">
            				<td class="">2018-09-23 10:17:32<br><br>DDFHPR</td>
            				<td>
            					<table class="table table-condensed">
            						<tbody><tr><th>field</th><th>before</th><th>after</th></tr>
            						<tr class="">
            						   <td class="">notes</td>
            						   <td class=""></td>
            						   <td class="">Customer left his rack sack in the bus. He told us to to deliver it and will pay for the delivery cost. He will call us back on Monday morning.</td>
            
            						</tr>
            						</tbody>
            					</table>
            				</td>
            			</tr>
            			<tr class="">
            
            				<td class="">2018-09-10 17:33:33<br><br>DDFHPR</td>
            				<td>
            					<table class="table table-condensed">
            						<tbody><tr><th>field</th><th>before</th><th>after</th></tr>
            						<tr class="">
            						   <td class="">ppl</td>
            						   <td class="">0</td>
            						   <td class="">2</td>
            						</tr>
            						<tr class="">
            						   <td class="">ppl2</td>
            						   <td class=""></td>
            						   <td class="">2</td>
            						</tr>
            						</tbody>
            					</table>
            				</td>
            			</tr>
            			<tr class="">
            				<td class="">2018-09-10 11:43:18<br><br>DDFHPR</td>
            				<td>
            					<table class="table table-condensed">
            						<tbody><tr><th>field</th><th>before</th><th>after</th></tr>
            							<tr class="">
            								<td class="">terminal_out</td>
            								<td class="">LHR3</td>
            								<td class="">3</td>
            							</tr>
            							<tr class="">
            								<td class="">terminal_in</td>
            								<td class="">LHR3</td>
            								<td class="">3</td>
            							</tr>
            						</tbody>
            					</table>
            			   </td>
            			</tr>
            		</tbody>
            	</table>
            </div>
            
            <div title="Photos" class="tab-pane am-fade" id="photos" role="tabpanel" aria-labelledby="photos-tab">
              <div class="row">
                <div class="custom-file">
                  <input type="file" class="custom-file-input" id="customFile">
                  <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
              </div>

              <div class="row">
                <div class="progress" style="margin-bottom:0">
                  <div class="progress-bar " role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <div class="progress" style="margin-bottom:0">
                <div class="progress-bar " role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div><span class="clearfix"></span></div>
            </div>
            
            <div title="Payments" class="tab-pane am-fade" id="payments" role="tabpanel" aria-labelledby="payments-tab">
            
            	<hr>
            
            	<div class="row">
            		<div class="col-xs-5 col-sm-5 col-md-5 col-lg-5">
            			<div class="smallLabel">For what</div>
            			<input type="text" class="form-control" maxlength="50" placeholder="Description">
            		</div>
            		<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            			<div class="smallLabel">Value</div>
            			<input type="number" class="form-control" placeholder="Amount">
            		</div>
            		<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
            			<div class="smallLabel">.</div>
            			<button type="button" class="btn btn-primary">Add payment</button>
            		</div>
            	</div>
            
            	<hr>
            
            	<div style="text-align: center; margin-top: 16px;color:lightgreen;" class="pointer ">
            		<span style="font-size: 30px;" class=" glyphicon glyphicon-refresh" aria-hidden="true"></span>
            		<div>Refresh after finished payment</div>
            	</div>
            
            	<table class="table table-hover">
            		<thead>
            			<tr>
            				<th>created</th>
            				<th>for</th>
            				<th>value</th>
            				<th></th>
            				<th></th>
            			</tr>
            		</thead>
            		<tbody></tbody>
            	</table>
            </div>
        </div>
      </div>

	  <div class="modal-footer">
        <a target="_blank" class="btn btn-outline-secondary">Print</a>
        <a target="_self" class="btn btn-default"><span style="font-size: 20px;" class="text-secondary" aria-hidden="true"><i class="fas fa-2x fa-plus-circle"></i></span></a>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<!-- End Modal -->

<div class="loader_container" style="display: none;">
	<div style="margin: 0 auto; color: #777" class="text-center">
		<div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
		<div style="margin-bottom: 24px; font-size: 36px; line-height: 40px; font-weight: 900">One moment please</div>
		<p>We are looking for results using your criteria.</p>
	</div>
</div>

<div class="list_item_leaving_template" style="display: none;">
  <div class="col-md-6">
    <div class="row mx-0 pb-2 text-muted border-bottom">
      <div class="col-md-6 data_count">403</div>
      <div class="col-md-6 d-flex justify-content-md-end"><a href="api/print/pdf.slip.php?date=2018-08-27&amp;airport=0&amp;type=" target="_blank" class="btn btn-primary btn-sm pull-right mr-2">Print</a> <a href="api/print/pdf.slip.returns.php?date=2018-08-27&amp;airport=0&amp;type=&amp;in=1" target="_blank" class="btn btn-primary btn-sm">List</a></div>
    </div>
  </div>
</div>

<div class=" list_item_return_template" style="display: none;">
  <div class="col-md-6">
    <div class="row mx-0 pb-2 text-muted border-bottom">
      <div class="col-md-6 data_count">743</div>
      <div class="col-md-6 d-flex justify-content-md-end"><a href="api/print/pdf.slip.returns.php?date=2018-08-27&amp;airport=0&amp;type=&amp;in=1" target="_blank" class="btn btn-primary btn-sm">List</a></div>
    </div>
  </div>
</div>

<div class="list_item_template" style="display: none;">
  <div class="row mx-0 my-2 py-2 bg-white" data-toggle="modal" data-target="#editReportModal" data-report-id="data_report_id">
    <div class="col-md-3">
      <span class="badge badge-success data_refNum"></span>
    </div>
    <div class="col-md-2">
      <span class="span-tooltip data_color_selector_leavingDate data__leavingDate_formatted data__a_date" data-toggle="tooltip" data-placement="top" title="data__leavingDate_additional"></span>
    </div>
    <div class="col-md-1"></div>
    <div class="col-md-4 data__name"></div>
    <div class="col-md-2 d-flex justify-content-end">
      <span class="badge badge-warning p-2 data_carReg"></span>
    </div>
    <div class="col-md-12">
      <div class="alert alert-warning py-1 m-0 data_visibility_selector_notes data_notes" role="alert"></div>
    </div>
  </div>
</div>
